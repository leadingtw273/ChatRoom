(function(t){function e(e){for(var a,o,i=e[0],c=e[1],u=e[2],l=0,f=[];l<i.length;l++)o=i[l],s[o]&&f.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var m=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},2:function(t,e){},"2c44":function(t,e,n){},3:function(t,e){},"3d36":function(t,e,n){"use strict";(function(t){n("a481"),n("6b54");var a=n("f499"),s=n.n(a),r=n("d225"),o=n("b0b4"),i=n("1b81"),c=n.n(i),u=n("e0ac"),m=new c.a,l=new u["a"]("aes-256-ecb","sha256"),f=function(){function e(t){Object(r["a"])(this,e),m.set(this,{key:t})}return Object(o["a"])(e,[{key:"encrypt",value:function(e){var n=m.get(this),a=n.key,r=s()(e),o=t.from(r,"utf8"),i=t.from(a,"utf8");return l.encryp(o,i).toString("hex")}},{key:"decrypt",value:function(e){var n=m.get(this),a=n.key,s=t.from(e,"hex"),r=t.from(a,"utf8"),o=l.decryp(s,r).toString().replace(/\'/g,'"').replace(/\0/g,"");return JSON.parse(o)}}]),e}();e["a"]=f}).call(this,n("b639").Buffer)},"3ed8":function(t,e,n){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("7f7f"),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=(n("4989"),n("fecf"),n("55dd"),n("5a0c")),r=n.n(s),o={computed:{$_roomId:function(){return this.$route.params.id},$_routeName:function(){return this.$route.name},$_userName:function(){return this.$store.getters.userName},$_roomList:function(){return this.$store.getters.roomList}},methods:{$_getRoomName:function(t){return this.$store.getters.roomName(t)},$_toPage:function(t,e){null==e?this.$router.push({name:t}):this.$router.push({name:t,params:e})},$_timeSort:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.slice().sort(function(t,n){return r()(t.createTime).isBefore(r()(n.createTime))?e:-e})},$_timeFormat:function(t,e){return null==e?r()(t).format():r()(t).format(e)}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("the-navbar"),n("div",{staticClass:"container"},[n("router-view",{staticStyle:{margin:"20px 0px 40px 0px"}})],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"the-navbar d-flex justify-content-center"},[n("nav",{staticClass:"navbar navbar-light bg-light justify-content-between"},[n("span",{staticClass:"navbar-brand mb-0 h1",on:{click:function(e){return t.$_toPage("Login")}}},[t._v("Chat Room")]),n("div",["Room"==t.$_routeName?n("button",{staticClass:"btn btn-outline-primary mr-3",on:{click:function(e){return t.$_toPage("RoomList")}}},[t._v("Room List")]):t._e(),null!=t.$_userName?n("button",{staticClass:"btn btn-outline-warning",on:{click:function(e){return t.$_toPage("Login")}}},[t._v(t._s(t.$_userName))]):t._e()])])])},m=[],l={name:"TheNavbar"},f=l,d=(n("886a"),n("2877")),h=Object(d["a"])(f,u,m,!1,null,"871ace86",null),p=h.exports,v={name:"App",components:{TheNavbar:p}},g=v,y=(n("5c0b"),Object(d["a"])(g,i,c,!1,null,null,null)),b=y.exports,_=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Register"},[n("h1",[t._v("Register")]),n("div",{staticClass:"inputBar mt-5"},[n("div",{staticClass:"form-group row",staticStyle:{"text-align":"left"}},[n("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"username"}},[t._v("Username")]),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userName,expression:"userName",modifiers:{trim:!0}}],staticClass:"form-control",class:[t.$v.userName.$dirty&&t.$v.userName.$error?"is-invalid":""],attrs:{type:"text",name:"username",placeholder:"username"},domProps:{value:t.userName},on:{blur:[function(e){return t.$v.userName.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.userName=e.target.value.trim())}}}),t._l(t.userNameErrors,function(e){return n("span",{key:e,staticClass:"small text-danger"},[n("i",{staticClass:"fas fa-exclamation-circle mr-2"}),n("em",[t._v(t._s(e))])])})],2)]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.loginUser}},[t._v("login")])])])},C=[],$=n("b5ae"),k={name:"Login",validations:{userName:{required:$["required"],minLength:Object($["minLength"])(3),maxLength:Object($["maxLength"])(20)}},data:function(){return{userName:""}},computed:{userNameErrors:function(){var t=[];return this.$v.userName.$dirty?(!this.$v.userName.minLength&&t.push("最少3個字"),!this.$v.userName.maxLength&&t.push("最多20個字"),!this.$v.userName.required&&t.push("請輸入名子"),t):t}},methods:{loginUser:function(){if(this.$v.userName.$touch(),this.$v.userName.$invalid)return!1;this.$store.commit("SET_USER",{user:this.userName}),this.$router.push({name:"RoomList"})}}},N=k,L=Object(d["a"])(N,x,C,!1,null,null,null),j=L.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ChatRoomList"},[t._m(0),n("div",{staticClass:"w-100 d-flex"},[n("div",{staticClass:"card card-body"},[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col-sm-2"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.getRoomList()}}},[n("i",{staticClass:"fas fa-redo-alt"})])]),n("div",{staticClass:"col-sm-8",staticStyle:{"text-align":"left"}},[n("div",{staticClass:"input-group"},[t._m(1),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.roomName,expression:"roomName",modifiers:{trim:!0}}],staticClass:"form-control",class:[t.$v.roomName.$dirty&&t.$v.roomName.$error?"is-invalid":""],attrs:{type:"text",placeholder:"Room's Name"},domProps:{value:t.roomName},on:{blur:[function(e){return t.$v.roomName.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.roomName=e.target.value.trim())}}})]),t._l(t.roomNameErrors,function(e){return n("span",{key:e,staticClass:"small text-danger"},[n("i",{staticClass:"fas fa-exclamation-circle mr-2"}),n("em",[t._v(t._s(e))])])})],2),n("div",{staticClass:"col-sm-2"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0===t.roomName.length},on:{click:t.addRoom}},[t._v("NEW")])])])])]),n("div",{staticClass:"list-group mt-4"},t._l(t.$_timeSort(t.$_roomList),function(e,a){return n("a",{key:e.id,staticClass:"list-group-item list-group-item-action d-flex justify-content-center",attrs:{href:"javascript:;"},on:{click:function(n){return t.clickRoom(e.id)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2 text-info room-index d-flex align-items-center"},[n("span",[n("i",{staticClass:"fas fa-angle-left"}),t._v("\n            "+t._s(a+1)+"\n            "),n("i",{staticClass:"fas fa-angle-right"})])]),n("div",{staticClass:"col-5 room-name d-flex align-items-center"},[n("span",{},[t._v(t._s(e.roomName))])]),n("div",{staticClass:"col-2 room-time d-flex align-items-center"},[n("span",[n("em",[t._v(t._s(t.$_timeFormat(e.createTime,"YYYY/MM/DD HH:mm:ss")))])])]),n("div",{staticClass:"col-3 badge room-creater d-flex align-items-center",class:e.master===t.$_userName?"badge-success":"badge-primary"},[n("span",[t._v(t._s(e.master))])])])])}),0)])},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Room List")]),n("hr")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("div",{staticClass:"input-group-text"},[n("i",{staticClass:"fas fa-warehouse"})])])}],R={name:"RoomList",validations:{roomName:{minLength:Object($["minLength"])(3),maxLength:Object($["maxLength"])(10)}},data:function(){return{roomName:""}},computed:{roomNameErrors:function(){var t=[];return this.$v.roomName.$dirty?(!this.$v.roomName.minLength&&t.push("最少3個字"),!this.$v.roomName.maxLength&&t.push("最多10個字"),t):t}},methods:{clickRoom:function(t){this.$_toPage("Room",{id:t})},addRoom:function(){if(this.$v.roomName.$touch(),this.$v.roomName.$invalid)return!1;var t={roomName:this.roomName,master:this.$_userName};this.$store.dispatch("addRoom",t),this.roomName=""},getRoomList:function(){this.$store.dispatch("getRoomList")}},created:function(){this.getRoomList()}},O=R,M=(n("ffe2"),Object(d["a"])(O,w,S,!1,null,"24e3d60d",null)),U=M.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ChatRoom"},[n("div",[n("h1",{staticClass:"text-info"},[t._v(t._s(t.$_getRoomName(t.$_roomId)))]),n("hr")]),n("div",{staticClass:"form-row align-items-center mb-3"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"input-group"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.key,expression:"key",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Room's Key",maxlength:"60"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",class:[t.keySet?"btn-success":"btn-info"],attrs:{type:"button",disabled:t.reLoad||t.keySet||!t.isSync||""===t.key},on:{click:function(e){return t.setKey()}}},[t.keySet?n("i",{staticClass:"far fa-check-circle"}):n("i",{staticClass:"fas fa-redo-alt"})])])])]),n("div",{staticClass:"col-sm-3 d-flex justify-content-end"})]),n("div",{staticClass:"border-chat p-3"},[n("div",{staticClass:"message-bar"},t._l(t.$_timeSort(t.messages,-1),function(e){return n("div",{key:e.id,staticClass:"message-item text-left"},[n("p",{class:["name",e.from===t.$_userName?"text-primary":"text-info"]},[t._v(t._s(e.from))]),n("div",{staticClass:"text d-flex"},[n("span",{staticClass:"text-message"},[t._v(t._s(t.decHex(e.message)))])]),n("div",{staticClass:"text d-flex justify-content-end mt-2"},[n("span",{staticClass:"text-time"},[t._v(t._s(t.$_timeFormat(e.createTime,"YYYY/MM/DD HH:mm:ss")))])])])}),0),n("div",{staticClass:"input-bar px-3"},[n("hr",{staticClass:"my-3"}),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text",placeholder:"text",maxlength:"50",disabled:t.reLoad||!t.keySet||!t.isSync},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v(t._s(t.$_userName))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.reLoad||!t.keySet||!t.isSync||""===t.message},on:{click:function(e){return t.addMsg()}}},[t._v("send")])])])])])])},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("div",{staticClass:"input-group-text"},[n("i",{staticClass:"fas fa-key"})])])}],T=n("af68"),H=T["a"],I=(n("aa3a"),Object(d["a"])(H,E,P,!1,null,"218e9452",null)),A=I.exports;a["a"].use(_["a"]);var D=new _["a"]({mode:"history",routes:[{path:"/",name:"Login",component:j},{path:"/rooms",name:"RoomList",component:U},{path:"/rooms/:id",name:"Room",component:A},{path:"*",component:j}]}),K=(n("96cf"),n("3b8d")),Y=(n("7514"),n("2f62")),q=n("795b"),B=n.n(q),F=n("bc3a"),J=n.n(F),V={baseURL:"https://chatroom-v2-backend.herokuapp.com/",timeout:6e4,withCredentials:!1},W=J.a.create(V);W.interceptors.request.use(function(t){return t},function(t){return B.a.reject(t)}),W.interceptors.response.use(function(t){return t},function(t){return B.a.reject(t)});var z=W,G=n("0e44");a["a"].use(Y["a"]);var Q=new Y["a"].Store({strict:!0,state:{roomList:[],user:null},mutations:{SET_USER:function(t,e){var n=e.user;t.user=n},SET_ROOM_LIST:function(t,e){var n=e.roomList;t.roomList=n},PUSH_ROOM:function(t,e){var n=e.room;t.roomList.push(n)}},getters:{userName:function(t){return t.user},roomList:function(t){return t.roomList},roomName:function(t,e){return function(t){return e.roomList.find(function(e){return e.id===t}).roomName}}},actions:{getRoomList:function(){var t=Object(K["a"])(regeneratorRuntime.mark(function t(e){var n,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,z.get("/rooms");case 4:a=t.sent,s=a.data,n("SET_ROOM_LIST",{roomList:s}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),addRoom:function(){var t=Object(K["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,z.post("/rooms",n);case 4:s=t.sent,r=s.data,a("PUSH_ROOM",{room:r}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,n){return t.apply(this,arguments)}return e}()},plugins:[Object(G["a"])()]}),X=n("1dce"),Z=n.n(X),tt=n("f87c"),et=n("8055"),nt=n.n(et);a["a"].config.productionTip=!1,a["a"].use(tt["a"],nt()("https://chaos-socketio.herokuapp.com",{path:"/chaos"})),a["a"].use(Z.a),a["a"].mixin(o),D.beforeEach(function(t,e,n){"Login"!==t.name&&null==Q.state.user?n({name:"Login"}):n()}),new a["a"]({router:D,store:Q,render:function(t){return t(b)}}).$mount("#app")},"5a94":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),s=n.n(a);s.a},"5e27":function(t,e,n){},"886a":function(t,e,n){"use strict";var a=n("5a94"),s=n.n(a);s.a},a1f4:function(t,e,n){"use strict";n("6b54");var a=n("d225"),s=n("b0b4"),r=n("1b81"),o=n.n(r),i=n("53e3"),c=n.n(i),u=new o.a,m=function(){function t(e,n){Object(a["a"])(this,t),u.set(this,{A:0,c:[],ax:[1,1,1],dx:[0,0,0],g:[],h:[],j:[],count:0});var s=u.get(this);s.A=e,s.c=n,this.runModulation()}return Object(s["a"])(t,[{key:"setModulation",value:function(t,e){var n=u.get(this);n.ax=t,n.dx=e,this.runModulation()}},{key:"runModulation",value:function(){var t=u.get(this),e=t.ax,n=t.dx;t.g[0]=-e[0]/(e[1]*e[1]),t.g[1]=2*e[0]*n[1]/(e[1]*e[1]),t.g[2]=-.1*e[0]/e[2],t.g[3]=e[0]*(1.76-n[1]*n[1]/(e[1]*e[1])+.1*e[0]*n[2]/e[2])+n[0],t.h[0]=e[1]/e[0],t.h[1]=-e[1]*n[0]/e[0]+n[1],t.j[0]=e[2]/e[1],t.j[1]=-e[2]*n[1]/e[1]+n[2]}},{key:"runChaos",value:function(t,e){var n=u.get(this),a=[],s=n.g,r=n.h,o=n.j;return t<=1&&(e[0]=n.ax[0]*e[0]+n.dx[0],e[1]=n.ax[1]*e[1]+n.dx[1],e[2]=n.ax[2]*e[2]+n.dx[2]),a=e.slice(),a[0]=c.a.round(s[0]*(e[1]*e[1])+s[1]*e[1]+s[2]*e[2]+s[3],6),a[1]=c.a.round(r[0]*e[0]+r[1],6),a[2]=c.a.round(o[0]*e[1]+o[1],6),a}},{key:"runMaster",value:function(t,e){return this.runChaos(t,e)}},{key:"runSlave",value:function(t,e,n){var a=this.runChaos(t,e);return t>1&&(a[0]=c.a.round(a[0]+this.createUs(e)+n,10)),a}},{key:"createUk",value:function(t,e){var n=this.createUm(t),a=this.createUs(e);return c.a.round(n+a,6)}},{key:"createUm",value:function(t){var e=u.get(this),n=e.A,a=e.c,s=e.g,r=e.h,o=e.j,i=Math.pow(t[1],2)*s[0]+t[1]*s[1]+t[2]*s[2]+t[0]*a[0]*r[0]+t[1]*a[1]*o[0]-t[0]*n-t[1]*a[0]*n-t[2]*a[1]*n;return c.a.round(i,6)}},{key:"createUs",value:function(t){var e=u.get(this),n=e.A,a=e.c,s=e.g,r=e.h,o=e.j,i=-Math.pow(t[1],2)*s[0]-t[1]*s[1]-t[2]*s[2]-t[0]*a[0]*r[0]-t[1]*a[1]*o[0]+t[0]*n+t[1]*a[0]*n+t[2]*a[1]*n;return c.a.round(i,6)}},{key:"checkSync",value:function(t,e){var n=u.get(this),a=!1;return e=c.a.round(e,4),t=c.a.round(t,4),t+e==0?(n.count=n.count+1,n.count>=10&&(a=!0)):n.count=0,a}},{key:"getRandomInitValue",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=[],n=0;n<3;n++)e.push(c.a.round(2*Math.random()-1,t));return e}},{key:"chaosInit",value:function(t,e){var n=0,a=t;while(n<=e)a=this.runChaos(n,a),n++;return a}},{key:"show",value:function(){var t=u.get(this);console.log("A = ".concat(t.A,", c = ").concat(t.c,", g = ").concat(t.g,", h = ").concat(t.h,", j = ").concat(t.j))}}]),t}(),l=m,f=new o.a,d=new l(1e-5,[-1e-4,1e-4]),h=function(){function t(){Object(a["a"])(this,t),console.log("[Chaos Init]");var e=d.getRandomInitValue(),n=100,s=d.chaosInit(e,n),r=0;f.set(this,{x:s,step:n,um:r})}return Object(s["a"])(t,[{key:"runChaos",value:function(){var t=f.get(this),e=t.step,n=t.x;t.step=e+1,t.x=d.runChaos(e,n),console.log("[chaos] : (runChaos) step = ".concat(t.step,", x = ").concat(t.x))}},{key:"getUm",value:function(){var t=f.get(this);return t.um=d.createUm(t.x),console.log("[chaos] : (getUm) um = ".concat(t.um)),console.log("---------------------------------------------------------"),t.um}},{key:"getKey",value:function(){var t=f.get(this),e=t.x,n=e.map(function(t){return t.toString().slice(0,t.toString().indexOf(".")+5)}).join("/");return console.log("[Chaos] : (getKey) ".concat(n)),console.log("---------------------------------------------------------"),n}}]),t}();e["a"]=h},aa3a:function(t,e,n){"use strict";var a=n("2c44"),s=n.n(a);s.a},af68:function(t,e,n){"use strict";(function(t){var a=n("cebc"),s=(n("ac6a"),n("6b54"),n("8055")),r=n.n(s),o=n("3d36"),i=n("a1f4"),c={},u={},m={};e["a"]={name:"Room",sockets:{UmCatch:function(t){t?(console.log("[Chaos Sync Success!!]"),this.isSync=!0,u=new o["a"](c.getKey()),m.emit("join",this.$_userName)):(c.runChaos(),this.$socket.emit("UmPush",c.getUm()))},e2eEncryptReturn:function(t){var e=u.decrypt(t);m.emit("setMessage",{from:this.$_userName,message:e._target,Um:e._Um})},e2eDecryptReturn:function(t){var e=u.decrypt(t),n=e.createTime,a=e.from,s=e.id,r=e._target;this.messages.push({createTime:n,from:a,id:s,message:r})}},data:function(){return{reLoad:!1,keySet:!1,isSync:!1,messages:[],message:"",key:""}},watch:{key:function(){this.keySet=!1}},methods:{decHex:function(e){return t.from(e,"hex").toString()},addMsg:function(){if(""===this.message)return!1;var t=u.encrypt({_target:this.message,_key:this.key});this.$socket.emit("e2eEncrypt",t),this.message=""},setKey:function(){this.keySet=!0,this.reLoad=!0,this.messages=[],m.emit("getMessage")}},updated:function(){var t=this.$el.querySelector(".message-bar");t.scrollTop=t.scrollHeight},created:function(){var t=this;c=new i["a"],this.$socket.emit("SyncReady",c.getUm()),m=r()("https://chatroom-v2-backend.herokuapp.com/"),m.on("messages",function(e){t.reLoad=!1,e.forEach(function(e){var n=u.encrypt(Object(a["a"])({_target:e.message,_Um:e.Um,_key:t.key},e));t.$socket.emit("e2eDecrypt",n)})}),m.on("pushMessage",function(e){var n=u.encrypt(Object(a["a"])({_target:e.message,_Um:e.Um,_key:t.key},e));t.$socket.emit("e2eDecrypt",n)}),m.on("system",function(t){console.log("[System Info] : ",t)})},beforeDestroy:function(){m.emit("leave"),m.close()}}}).call(this,n("b639").Buffer)},e0ac:function(t,e,n){"use strict";(function(t){var a=n("d225"),s=n("b0b4"),r=n("1b81"),o=n.n(r),i=n("1c46"),c=n.n(i),u=new o.a,m=function(){function e(t){Object(a["a"])(this,e),u.set(this,{aesMode:t,hashMode:(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null,iv:(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:null})}return Object(s["a"])(e,[{key:"setKey",value:function(t){var e=u.get(this);return null!=e.hashMode?c.a.createHash(e.hashMode).update(t).digest():t}},{key:"encryp",value:function(e,n){var a=u.get(this),s=null,r=t.alloc(16);while(e.length%16!=0)e=t.concat([e,t.alloc(1)]);try{s=c.a.createCipheriv(a.aesMode,this.setKey(n),a.iv||"").setAutoPadding(!1),r=t.concat([s.update(e),s.final()])}catch(o){throw o}return r}},{key:"decryp",value:function(e,n){var a=u.get(this),s=null,r=t.alloc(16);try{s=c.a.createDecipheriv(a.aesMode,this.setKey(n),a.iv||"").setAutoPadding(!1),r=s.update(e),r=t.concat([r,s.final()])}catch(o){throw o}return r}}]),e}();e["a"]=m}).call(this,n("b639").Buffer)},fecf:function(t,e,n){},ffe2:function(t,e,n){"use strict";var a=n("3ed8"),s=n.n(a);s.a}});
//# sourceMappingURL=app.08a4f861.js.map